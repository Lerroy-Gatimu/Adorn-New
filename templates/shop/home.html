{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="hero">
    <div class="hero-content">
        <h1 class="hero-title">Adorn Yourself with Elegance</h1>
        <p class="hero-subtitle">Distinctively Elegant, Affordable, Unique</p>
        <a href="{% url 'shop:shop' %}" class="btn btn-primary">Shop Now</a>
    </div>
</section>

<section class="categories-section">
    <div class="container">
        <h2 class="section-title">Shop by Category</h2>
        <div class="categories-grid">
            {% for category in categories %}
            <a href="{% url 'shop:shop' %}?category={{ category.slug }}" class="category-card">
                <h3>{{ category.name }}</h3>
                <p>{{ category.description|truncatewords:10 }}</p>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<section class="featured-products">
    <div class="container">
        <h2 class="section-title">Featured Products</h2>
        <div class="products-grid">
            {% for product in featured_products %}
            <article class="product-card">
                <div class="product-image">
                    {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                    {% else %}
                    <div class="placeholder-image">{{ product.name|slice:":1" }}</div>
                    {% endif %}
                    {% if product.discount_percentage > 0 %}
                    <span class="discount-badge">-{{ product.discount_percentage }}%</span>
                    {% endif %}
                    <button class="wishlist-btn" onclick="toggleWishlist({{ product.id }}, '{{ product.name }}', {{ product.price }}, '{% if product.image %}{{ product.image.url }}{% endif %}')" title="Add to Wishlist">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                    </button>
                </div>
                <div class="product-info">
                    <h3 class="product-name">{{ product.name }}</h3>
                    <p class="product-category">{{ product.category.name }}</p>
                    <div class="product-price">
                        <span class="current-price">Ksh. {{ product.price }}</span>
                        {% if product.original_price %}
                        <span class="original-price">Ksh. {{ product.original_price }}</span>
                        {% endif %}
                    </div>
                    <div class="product-actions">
                        <a href="{% url 'shop:product_detail' product.slug %}" class="btn btn-secondary">View Details</a>
                        <button onclick="addToCart({{ product.id }}, '{{ product.name }}', {{ product.price }}, '{% if product.image %}{{ product.image.url }}{% endif %}')" class="btn btn-primary">Add to Cart</button>
                    </div>
                </div>
            </article>
            {% endfor %}
        </div>
        <div class="text-center" style="margin-top: 2rem;">
            <a href="{% url 'shop:shop' %}" class="btn btn-secondary">View All Products</a>
        </div>
    </div>
</section>

<section class="brand-story">
    <div class="container">
        <div class="story-content">
            <h2>Our Story</h2>
            <p>At Adorn Jewellery, we believe that everyone deserves to wear beautiful, elegant jewelry without breaking the bank. Our carefully curated collection brings together timeless designs and modern aesthetics, ensuring that each piece is distinctively elegant, genuinely affordable, and truly unique.</p>
            <p>Every item in our collection is selected with care, combining quality craftsmanship with accessible pricing. Whether you're looking for everyday elegance or statement pieces for special occasions, Adorn has something perfect for you.</p>
            <a href="{% url 'shop:why_choose_us' %}" class="btn btn-primary">Learn More About Us</a>
        </div>
    </div>
</section>
{% endblock %}
